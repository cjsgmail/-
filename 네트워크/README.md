# 네트워크와 브라우저

> ### API에 대해서

- 요청과 응답을 사용하여 두 애플리케이션이 서로 통신하는 방법을 정의합니다.
- API 아키텍처는 일반적으로 클라이언트와 서버 측면에서 설명됩니다. 요청을 보내는 애플리케이션을 클라이언트, 응답을 보내는 애플리케이션을 서버라고 합니다.

> ### REST API란?

- 웹에서 사용되는 데이터나 자원을 HTTP URL로 표현하고 HTTP 프로토콜을 통해 요청과 응답을 정의하는 방식을 말합니다.

> ### REST API를 판단하는 기준

- REST 성숙도 모델 4단계가 있습니다.
- 0단계에서는 단순히 HTTP 프로토콜을 사용하기만 해도 됩니다.
- 1단계에서는 개별 리소스에 맞는 엔드포인트를 사용해야하며 모든 데이터나 자원을 HTTP URL로 표현해야합니다.
- 2단계에서는 CRUD에 맞게 적절한 HTTP메서드를 사용하는 것에 중점을 둡니다.
- 3단계에서는 응답 내에 새로운 링크를 넣어 새로운 기능에 접근할 수 있도록 하는 것이 핵심입니다.

> ### HTTP와 HTTPS의 차이점과 특징

- HTTP는 클라이언트와 서버 사이에서 통신을 주고받게 해주는 프로토콜입니다.
- 일반 HTTP 프로토콜의 문제점은 서버에서부터 브라우저로 전송되는 정보가 암호화되지 않는다는 것 입니다. 따라서 데이터가 쉽게 도난당할 수 있습니다.
- HTTPS는 보안 소켓 계층을 사용함으로써 이 문제를 해결했습니다.
- 보안 소켓 계층은 서버와 브라우저 사이에 안전하게 암호화된 연결을 만들 수 있게 도와주고, 서버와 브라우저가 민감한 정보를 주고받을 때 이것이 도난당하는 것을 막아줍니다.
- HTTPS는 검색엔진 최적화(SEO)에 있어서도 HTTP보다 우위에 있습니다.
- 구글이 HTTPS 웹사이트에 가산점을 주는 이유 때문이기도 하지만, 사용자들이 결국에는 가장 안전하다고 생각하는 사이트를 더 많이 방문하기 때문이기도 합니다.

> ### 웹 브라우저에 URL을 입력했을 때, 일어나는 일들

1. 웹 브라우저에 URL을 입력한다
2. 웹 브라우저가 도메인의 IP주소를 조회한다 (먼저 캐시를 찾고, 그 다음 DNS를 검색한다.)
3. 웹 브라우저가 찾은 IP주소를 기반으로 서버와의 TCP 연결을 시작한다.
4. 웹 브라우저가 HTTP(S) 요청을 서버로 전송한다
5. 웹 서버가 요청을 처리하고 응답을 다시 웹 브라우저로 전송한다.
6. 웹 브라우저가 전송 받은 컨텐츠를 렌더링한다.

> ### 브라우저가 렌더링되는 과정

1. 웹페이지가 로드되면 브라우저는 먼저 HTML 텍스트를 읽고 이걸로 DOM 트리를 만듭니다.
2. CSS를 처리하고 CSS로 CSSObjectModel 트리를 만듭니다.
3. DOM과 CSSObjectModel 트리가 만들어진 다음 이 두 트리로 Render 트리를 만듭니다.
4. Render 트리가 만들어지면 브라우저는 요소 하나하나를 화면에 출력합니다.

> ### OSI 7계층에 대해서 설명

- 1계층인 물리 계층에서 데이터를 전기 신호로 바꾸어줍니다.
- 2계층인 데이터링크 계층에서 데이터의 물리적인 전송과 에러 검출, 흐름 제어를 담당합니다.
- 3계층인 네트워크 계층에서 패킷을 목적지까지 가장 빠른 길로 전송합니다.
- 4계층인 전송 계층에서 최종 수신 프로세스로 데이터를 전송합니다.
- 5계층인 세션 계층에서 컴퓨터끼리 통신을 하기 위해 세션을 만듭니다.
- 6계층인 표현 계층에서 데이터의 형식을 정의합니다.
- 7계층인 응용 계층은 사용자와 직접 상호작용하는 응용 프로그램들이 포함합니다.

> ### TCP/IP 4계층에 대해서

- TCP/IP는 인터넷과 관련된 다양한 프로토콜의 집합을 의미합니다.
- TCP 프로토콜과 IP 프로토콜이 각각 전송 계층, 인터넷 계층에서 케이블 규격,IP 주소 지정 방법, 통신 대상을 찾는 방법 등을 제어하는 기능을 합니다
- 네트워크 엑세스 계층에서 인터넷 계층에서 형성된 패킷을 전기신호로 바꾸어 전달합니다.
- 인터넷 계층에서 통신 노드 간의 IP패킷을 전송하고 라우팅 합니다.
- 전송 계층에서 통신 노드 간의 연결을 제어하고 신뢰성 있는 데이터 전송을 담당합니다.
- 응용 계층에서 응용 프로그랩들 간의 데이터 통신이 이루어집니다.

> ### 로컬스토리지, 쿠키, 세션, JWT토큰에 대해서

- 로컬스토리지

  - 클라이언트의 웹 브라우저에 저장되는 저장소
  - 서버로 전송이 이루어지지 않아 네트워크 트래픽 비용을 줄여줍니다.
  - 용량에 제한이 없습니다.
  - 별도의 만료일자의 설정 없이 영구적인 데이터 보관이 가능합니다.

- 쿠키

  - 웹 브라우저에 저장되는 작은 데이터 조각으로 서버가 클라이언트의 요청을 식별하는데 사용됩니다.
  - 웹 요청은 쿠키정보를 포함하여 서버로 전송됩니다.
  - 4KB의 용량을 가지고 있습니다.
  - 만료일자가 지정되어있고 영구 쿠키를 원할 경우 만료일자를 멀게 설정하여 세션 쿠키를 활용할 수 있습니다.
  - 요청 속도는 쿠키가 세션보다 더 빠릅니다. 그 이유는 세션은 서버의 처리가 필요하기 때문입니다.
  - 클라이언트가 수정할 수도 있고 해커가 탈취할 수도 있기 때문에 보안에 취약합니다.

- 세션

  - 세션은 쿠키를 기반하고 있지만, 사용자 정보 파일을 브라우저에 저장하는 쿠키와 달리 세션은 서버 측에서 관리합니다.
  - 서버에서는 클라이언트를 구분하기 위해 세션 ID를 부여하며 웹 브라우저가 서버에 접속해서 브라우저를 종료할 때까지 인증상태를 유지합니다.
  - 보안 면에서 세션이 쿠키보다 더 우수합니다.
  - 사용자가 많아질수록 서버 메모리를 많이 차지하게 됩니다. 즉 동접자 수가 많은 웹 사이트인 경우 서버에 과부하를 주게 되므로 성능 저하의 요인이 됩니다.

- JWT토큰

  - 인증에 필요한 정보들을 암호화시킨 JSON 토큰을 의미한다.
  - JWT 토큰(Access Token)을 HTTP 헤더에 실어 서버가 클라이언트를 식별하는 방식이다.
  - 인증 정보에 대한 별도의 저장소가 필요없다.
  - 클라이언트 인증 정보를 저장하는 세션과 다르게, 서버는 무상태(StateLess)가 되어 서버 확장성이 우수해질 수 있다.
  - 정보가 많아질수록 토큰의 길이가 늘어나 네트워크에 부하를 줄 수 있다.
